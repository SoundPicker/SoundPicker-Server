<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>SimpleSocketIO</title>
  <style>
    /* 
    #text_box {
      width: 620px;
      height: 500px;
    }
    #name {
      width: 100px;
    }
    #msg {
      width: 350px;
    }
    */
    #answer1 {
      width: 350px;
    }
    #answer2 {
      width: 350px;
    }
    #answer3 {
      width: 350px;
    }
  </style>
</head>

<!-- 간단 css -->
<body>
  <!-- <div>
    <textarea id="text_box"></textarea>
  </div> -->
  <div>
  <form id="answerSheet">
    <div>   
    Q1 답을 입력하세요 : <input id="answer1" type="text">
    Q2 답을 입력하세요 : <input id="answer2" type="text">
    Q3 답을 입력하세요 : <input id="answer3" type="text">
    <input type="button" value="submit" onclick="submit()" />
  </div>
  </form>
</div>
<!-- 핵심. 이거를 통해 socke.io 사용가능 -->
  <script src="/socket.io/socket.io.js"></script>
  
  <script>
    var socket = io();  //서버에서 오픈한 socket 서버 접속

    //submit 버튼 눌렀을때 실행 이벤트
    function submit() {
      //emit: 메시지 보내는 함수, receive라는 서버에서 설정한 이름을 통해 그곳으로 메시지 보냄
      socket.emit('receive', document.getElementById("answer1").value, document.getElementById("answer2").value, document.getElementById("answer3").value);
      //메시지 보냈을때 현재 입력된 메시지를 초기화
      document.getElementById("answer1").value="";
      document.getElementById("answer2").value="";
      document.getElementById("answer3").value="";
    }
    //on: 메시지 받는 함수, 'player_receive'라고 설정했고, 서버에서 emit을 'player_receive'라고 설정해서 보냄
    socket.on('player_receive', function (msg) {
      //받은내용을 23번째 textarea에 설정
      document.getElementById("text_box").value += msg + "\n";
    });
  </script>
</body>

</html>