<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>SimpleSocketIO</title>
  <style>
    #a1 {
      width:150x;
    }
    #a2 {
      width:150x;
    }
    #a3 {
      width:150x;
    }
    #totalA {
      width: 80px;
    }

    #answer1 {
      width: 350px;
    }
    #answer2 {
      width: 350px;
    }
    #answer3 {
      width: 350px;
    }
  </style>
</head>

<body>
  <div>
  <table>
    <tr><th>이름</th><th>Q1</th><th>Q2</th><th>Q3</th><th>Total</th></tr>
    <tr><td>플레이어a</td><td><input id="a1" type="text"/></td><td><input id="a2" type="text"/></td><td><input id="a3" type="text"/></td><td><input id="totalA" type="text"/></td></tr>
    <!-- <tr><td>플레이어b</td><td><input id="table" type="text"/></td><td><input id="table" type="text"/></td><td><input id="table" type="text"/></td></tr> -->
    <!-- <tr><td>플레이어c</td><td><input id="table" type="text"/></td><td><input id="table" type="text"/></td><td><input id="table" type="text"/></td></tr> -->
  </table>
  </div>
  <div>
    <br>
  <form id="answerSheet">
    <div>   
    Q1 답을 입력하세요 : <input id="answer1" type="text">
    <input type="button" value="submit1" onclick="submit1()" />
    <br>
    Q2 답을 입력하세요 : <input id="answer2" type="text">
    <input type="button" value="submit2" onclick="submit2()" />
    <br>
    Q3 답을 입력하세요 : <input id="answer3" type="text">
    <input type="button" value="submit3" onclick="submit3()" />
  </div>
  </form>
  <br>
</div>
  <script src="/socket.io/socket.io.js"></script>
  
  <script>
    var socket = io();  //서버에서 오픈한 socket 서버 접속

    function submit1() {
      //emit: 메시지 보내는 함수, receive라는 서버에서 설정한 이름을 통해 그곳으로 메시지 보냄
      socket.emit('receive1', document.getElementById("answer1").value);
      //메시지 보냈을때 현재 입력된 메시지를 초기화
      document.getElementById("answer1").value="";
    }
    //on: 메시지 받는 함수,
    socket.on('player_receive1', (answer1) => {
      document.getElementById("a1").value = answer1;
    });
  

    function submit2() {
      socket.emit('receive2', document.getElementById("answer2").value);
      document.getElementById("answer2").value="";
    }
    socket.on('player_receive2', (answer2) => {
      document.getElementById("a2").value = answer2;
    });

    function submit3() {
      socket.emit('receive3', document.getElementById("answer3").value);
      document.getElementById("answer3").value="";
    }
    socket.on('player_receive3', (answer3) => {
      document.getElementById("a3").value = answer3;
      const result = document.getElementById("totalA").value;
      if(result == true){
        result = "true";
      }else{
        result = "false";
      }
    });
  </script>
</body>

</html>